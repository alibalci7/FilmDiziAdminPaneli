@using FilmDiziUygulamasi.Models;
@{
    ViewBag.Title = "Filmleri Listeleme";
    Layout = "~/Views/Shared/_GelismisTablo.cshtml";
    List<Film> filmler = ViewBag.filmlerim;
    bool islem = ViewBag.islem;
}

<style>
    td {
        max-width: 300px;
    }
</style>

<br />
<center> <h1> Filmler Listesi</h1> </center>
<br />

<div class="page-content">

    <br /> <br />
    <!-- begin ADVANCED TABLES ROW -->
    <div class="row">
        <div class="col-lg-12">
            <div class="portlet portlet-default">
                <div class="portlet-heading">
                    <div class="portlet-title">
                        <h4> Tüm Filmler </h4>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="portlet-body">
                    <div class="table-responsive">
                        <table id="example-table" class="table table-striped table-bordered table-hover table-green">
                            <thead>
                                <tr>
                                    <th> Film Adı </th>
                                    <th> Konusu </th>
                                    <th> Yapım Yılı </th>
                                    <th> Dili </th>
                                    <th> IMDB Puanı </th>
                                    <th> Süresi </th>
                                    <th> AltYazı </th>
                                    <th> Toplam İzlenme Süresi </th>
                                    <th> Beğeni Oranı </th>
                                    <th> Kategorileri </th>
                                    <th> Oyuncuları </th>
                                    <th> Yönetmenleri </th>
                                    <th> Ekleyen Yönetici </th>
                                    <th> Güncelle </th>
                                    <th> Sil </th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in filmler)
                                {
                                <tr>
                                    <td>@item.FilmBaslik</td>
                                    <td><details> <summary> Konuyu görmek için tıklayınız. </summary> @item.FilmKonu </details></td>
                                    <td>@item.FilmYapimYili</td>
                                    <td>@item.FilmDil</td>
                                    <td>@item.FilmIMDB</td>
                                    <td>@item.FilmSure</td>
                                    <td>@item.FilmAltYazi</td>
                                    <td>@item.FilmIzlenmeSayisi</td>
                                    <td>@item.FilmBegeniOrani</td>
                                    <td>@item.FilmKategoriler</td>
                                    <td>@item.FilmOyuncular</td>
                                    <td>@item.FilmYonetmenler</td>
                                    <td> @item.FilmEkleyenAd </td>
                                    <td><a class="btn btn-primary" href="/Film/Guncelle/@item.FilmID">Güncelle</a></td>
                                    <td><a class="btn btn-danger" href="/Film/Sil/@item.FilmID">Sil</a></td>
                                </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                    <!-- /.table-responsive -->
                </div>
                <!-- /.portlet-body -->
            </div>
            <!-- /.portlet -->

        </div>
        <!-- /.col-lg-12 -->

    </div>
    <!-- /.row -->

</div>
<!-- /.page-content -->

@section scripts {
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    @if (islem)
    {
        <script>function İslem() { swal('İşlem Başarılı!', '', 'success'); }; İslem();</script>
    }

}